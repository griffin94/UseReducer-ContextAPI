{"version":3,"sources":["state/todo/actionTypes.js","state/reducer.js","state/todo/initialState.js","state/initialState.js","state/StateProvider.js","state/todo/actionCreators.js","components/Todo.js","App.js","index.js"],"names":["ADD_TASK","REMOVE_TASK","CHANGE_TASK","reducer","state","type","payload","tasks","filter","task","id","map","todoState","initialState","StateContext","React","createContext","StateProvider","children","useReducer","dispatch","actions","addTask","removeTask","changeTask","Provider","value","Wrapper","styled","div","Form","form","Button","button","List","ul","Task","li","completed","Todo","selector","useContext","Error","useStateSelector","generateId","reduce","max","curr","Math","onSubmit","e","preventDefault","input","target","elements","trim","edit","focus","name","autoComplete","onClick","currentTarget","toggleCompleted","editTask","setTaskToEdit","GlobalStyle","createGlobalStyle","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aabe6140.chunk.js","sourcesContent":["export const ADD_TASK = 'ADD_TASK';\r\nexport const REMOVE_TASK = 'REMOVE_TASK';\r\nexport const CHANGE_TASK = 'CHANGE_TASK';\r\n","import { ADD_TASK, REMOVE_TASK, CHANGE_TASK } from './todo/actionTypes';\r\n\r\nconst reducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case ADD_TASK:\r\n      return { ...state, tasks: [...state.tasks, payload] };\r\n\r\n    case REMOVE_TASK:\r\n      return {\r\n        ...state,\r\n        tasks: [...state.tasks.filter((task) => task.id !== payload)],\r\n      };\r\n\r\n    case CHANGE_TASK: {\r\n      return {\r\n        ...state,\r\n        tasks: [\r\n          ...state.tasks.map((task) =>\r\n            task.id === payload.id ? payload : task,\r\n          ),\r\n        ],\r\n      };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","const todoState = {\r\n  tasks: [],\r\n};\r\n\r\nexport default todoState;\r\n","import todoState from './todo/initialState';\r\n\r\nconst initialState = {\r\n  ...todoState,\r\n};\r\n\r\nexport default initialState;\r\n","import React, { useReducer, useContext } from 'react';\r\nimport reducer from './reducer';\r\nimport initialState from './initialState';\r\nimport { addTask, removeTask, changeTask } from './todo/actionCreators';\r\n\r\nconst StateContext = React.createContext({});\r\n\r\nconst StateProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const actions = {\r\n    addTask: (payload) => dispatch(addTask(payload)),\r\n    removeTask: (payload) => dispatch(removeTask(payload)),\r\n    changeTask: (payload) => dispatch(changeTask(payload)),\r\n  };\r\n\r\n  return (\r\n    <StateContext.Provider value={{ state, actions }}>\r\n      {children}\r\n    </StateContext.Provider>\r\n  );\r\n};\r\n\r\nconst useStateActions = () => useContext(StateContext).actions;\r\n\r\nconst useStateSelector = (selector) => {\r\n  const { state } = useContext(StateContext);\r\n\r\n  if (!selector) return state;\r\n  else if (typeof selector !== 'function')\r\n    throw new Error('Selector must be a function');\r\n  else {\r\n    return selector(state);\r\n  }\r\n};\r\n\r\nexport { StateProvider, useStateActions, useStateSelector };\r\n","import { ADD_TASK, REMOVE_TASK, CHANGE_TASK } from './actionTypes';\r\n\r\nexport const addTask = (payload) => ({ type: ADD_TASK, payload });\r\nexport const removeTask = (payload) => ({ type: REMOVE_TASK, payload });\r\nexport const changeTask = (payload) => ({ type: CHANGE_TASK, payload });\r\n","import styled from 'styled-components';\r\nimport { useStateActions, useStateSelector } from '../state/StateProvider';\r\n\r\nconst Todo = () => {\r\n  const tasks = useStateSelector((state) => state.tasks);\r\n  const { addTask, removeTask, changeTask } = useStateActions();\r\n\r\n  const addTodo = (e) => {\r\n    e.preventDefault();\r\n    const input = e.target.elements['task-name'];\r\n    const value = input.value.trim();\r\n    value &&\r\n      addTask({\r\n        id: generateId(tasks),\r\n        completed: false,\r\n        edit: false,\r\n        value,\r\n      });\r\n    input.value = '';\r\n    input.focus();\r\n  };\r\n\r\n  const toggleCompleted = (e, task) => {\r\n    e.target === e.currentTarget &&\r\n      changeTask({\r\n        ...task,\r\n        completed: !task.completed,\r\n      });\r\n  };\r\n\r\n  const setTaskToEdit = (task) =>\r\n    changeTask({\r\n      ...task,\r\n      edit: !task.edit,\r\n    });\r\n\r\n  const editTask = (e, task) => {\r\n    e.preventDefault();\r\n    const input = e.target.elements['task-name'];\r\n    const value = input.value.trim();\r\n    value &&\r\n      changeTask({\r\n        ...task,\r\n        value,\r\n        edit: !task.edit,\r\n      });\r\n  };\r\n\r\n  const generateId = (tasks) =>\r\n    tasks.reduce((max, curr) => Math.max(max, curr.id), -1) + 1;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Form onSubmit={addTodo}>\r\n        <input type='text' name='task-name' autoComplete='off'></input>\r\n        <Button>Add</Button>\r\n      </Form>\r\n      <List>\r\n        {tasks.map((task) => (\r\n          <Task\r\n            key={task.id}\r\n            completed={task.completed}\r\n            onClick={(e) => toggleCompleted(e, task)}\r\n          >\r\n            {task.edit ? (\r\n              <Form onSubmit={(e) => editTask(e, task)}>\r\n                <input type='text' name='task-name' autoComplete='off'></input>\r\n                <Button>Save</Button>\r\n              </Form>\r\n            ) : (\r\n              task.value\r\n            )}\r\n            <div>\r\n              <Button onClick={() => removeTask(task.id)}>Remove</Button>\r\n              <Button onClick={() => setTaskToEdit(task)}>\r\n                {task.edit ? 'No_Edit' : 'Edit'}\r\n              </Button>\r\n            </div>\r\n          </Task>\r\n        ))}\r\n      </List>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  max-width: 400px;\r\n  margin: 20px auto;\r\n`;\r\nconst Form = styled.form`\r\n  display: flex;\r\n  width: 100%;\r\n\r\n  input {\r\n    width: 100%;\r\n    margin-right: 10px;\r\n    padding: 0 8px;\r\n    border: 1px solid black;\r\n    border-radius: 8px;\r\n    outline: none;\r\n    height: 35px;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 0 8px;\r\n  border: 1px solid black;\r\n  border-radius: 6px;\r\n  margin-left: 8px;\r\n  height: 35px;\r\n  &:first-of-type {\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\nconst List = styled.ul`\r\n  list-style: none;\r\n  margin-top: 10px;\r\n`;\r\nconst Task = styled.li`\r\n  border: 1px solid black;\r\n  border-radius: 8px;\r\n  padding: 4px 8px;\r\n  margin-bottom: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background-color: ${({ completed }) => (completed ? 'lime' : 'tomato')};\r\n\r\n  div {\r\n    display: flex;\r\n    margin-left: 8px;\r\n  }\r\n`;\r\n\r\nexport default Todo;\r\n","import Todo from './components/Todo';\r\nimport { createGlobalStyle } from 'styled-components';\r\nimport { StateProvider } from './state/StateProvider';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n    font-family: 'sans-serif'\r\n  }\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <StateProvider>\r\n      <GlobalStyle />\r\n      <Todo />\r\n    </StateProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}